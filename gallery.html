<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="style/gallery.css" />
    <title>Observator</title>
  </head>
  <body>
    <main>
      <conatiner class="container">
        <header>
          <img src="images/footerLogo.png" alt="Logo" />
          <div class="header-wrapper">
            <a href="index.html" class="home here">Home</a>
            <a href="gallery.html" class="gallery-nav">Gallery</a>
            <a href="contacts.html" class="contacts">Contacts</a>
          </div>
        </header>

        <section class="gallery-welcome">
          <h1 class="gallery-header">GalLery</h1>

          <div class="slideshow-container">
            <div class="mySlides fade">
              <div class="numbertext">1 / 3</div>
              <img src="images/ratusha.jpg" style="width: 100%" />
            </div>

            <div class="mySlides fade">
              <div class="numbertext">2 / 3</div>
              <img src="images/regional-art-musium.jpg" style="width: 100%" />
            </div>

            <div class="mySlides fade">
              <div class="numbertext">3 / 3</div>
              <img src="images/literature-museum.jpg" style="width: 100%" />
            </div>

            <a class="prev" onclick="plusSlides(-1)">❮</a>
            <a class="next" onclick="plusSlides(1)">❯</a>
          </div>
          <br />
        </section>

        <section class="gallery-section">
          <div class="gallery" id="gallery">
            <div class="gallery-item">
              <div class="content">
                <img src="images/gallery/item1.jpg" alt="" />
              </div>
            </div>
            <div class="gallery-item">
              <div class="content">
                <img src="images/gallery/item2.jpg" alt="" />
              </div>
            </div>
            <div class="gallery-item">
              <div class="content">
                <img src="images/gallery/item3.jpg" alt="" />
              </div>
            </div>
            <div class="gallery-item">
              <div class="content">
                <img src="images/gallery/item4.jpg" alt="" />
              </div>
            </div>
            <div class="gallery-item">
              <div class="content">
                <img src="images/gallery/item5.jpg" alt="" />
              </div>
            </div>
            <div class="gallery-item">
              <div class="content">
                <img src="images/gallery/item6.jpg" alt="" />
              </div>
            </div>
            <div class="gallery-item">
              <div class="content">
                <img src="images/gallery/item7.jpg" alt="" />
              </div>
            </div>
            <div class="gallery-item">
              <div class="content">
                <img src="images/gallery/item8.jpg" alt="" />
              </div>
            </div>
            <div class="gallery-item">
              <div class="content">
                <img src="images/gallery/item9.jpg" alt="" />
              </div>
            </div>
            <div class="gallery-item">
              <div class="content">
                <img src="images/gallery/item10.jpg" alt="" />
              </div>
            </div>
            <div class="gallery-item">
              <div class="content">
                <img src="images/gallery/item11.jpg" alt="" />
              </div>
            </div>
            <div class="gallery-item">
              <div class="content">
                <img src="images/gallery/item12.jpg" alt="" />
              </div>
            </div>
            <div class="gallery-item">
              <div class="content">
                <img src="images/gallery/item13.jpg" alt="" />
              </div>
            </div>
            <div class="gallery-item">
              <div class="content">
                <img src="images/gallery/item14.jpg" alt="" />
              </div>
            </div>
            <div class="gallery-item">
              <div class="content">
                <img src="images/gallery/item15.jpg" alt="" />
              </div>
            </div>
            <div class="gallery-item">
              <div class="content">
                <img src="images/gallery/item16.jpg" alt="" />
              </div>
            </div>
            <div class="gallery-item">
              <div class="content">
                <img src="images/gallery/item17.jpg" alt="" />
              </div>
            </div>
            <div class="gallery-item">
              <div class="content">
                <img src="images/gallery/item18.jpg" alt="" />
              </div>
            </div>
            <div class="gallery-item">
              <div class="content">
                <img src="images/gallery/item19.jpg" alt="" />
              </div>
            </div>
            <div class="gallery-item">
              <div class="content">
                <img src="images/gallery/item20.jpg" alt="" />
              </div>
            </div>
            <div class="gallery-item">
              <div class="content">
                <img src="images/gallery/item21.jpg" alt="" />
              </div>
            </div>
            <div class="gallery-item">
              <div class="content">
                <img src="images/gallery/item22.jpg" alt="" />
              </div>
            </div>
            <div class="gallery-item">
              <div class="content">
                <img src="images/gallery/item23.jpg" alt="" />
              </div>
            </div>
            <div class="gallery-item">
              <div class="content">
                <img src="images/gallery/item24.jpg" alt="" />
              </div>
            </div>
            <div class="gallery-item">
              <div class="content">
                <img src="images/gallery/item25.jpg" alt="" />
              </div>
            </div>
          </div>
        </section>
      </conatiner>

      <footer>
        <img class="footerImg" src="images/footerLogo.png" alt="footerLogo" />
        <div class="footer-wrapper">
          <a href="index.html" class="home">Home</a>
          <a href="gallery.html" class="gallery-nav">Gallery</a>
          <a href="contacts.html" class="contacts">Contacts</a>
          <a href="#" class="privacyPolice">Privacy Police</a>
          <a href="#" class="licence">Licence</a>
        </div>
      </footer>
    </main>

    <script>
      var gallery = document.querySelector("#gallery");
      var getVal = function (elem, style) {
        return parseInt(window.getComputedStyle(elem).getPropertyValue(style));
      };
      var getHeight = function (item) {
        return item.querySelector(".content").getBoundingClientRect().height;
      };
      var resizeAll = function () {
        var altura = getVal(gallery, "grid-auto-rows");
        var gap = getVal(gallery, "grid-row-gap");
        gallery.querySelectorAll(".gallery-item").forEach(function (item) {
          var el = item;
          el.style.gridRowEnd =
            "span " + Math.ceil((getHeight(item) + gap) / (altura + gap));
        });
      };
      gallery.querySelectorAll("img").forEach(function (item) {
        item.classList.add("byebye");
        if (item.complete) {
          console.log(item.src);
        } else {
          item.addEventListener("load", function () {
            var altura = getVal(gallery, "grid-auto-rows");
            var gap = getVal(gallery, "grid-row-gap");
            var gitem = item.parentElement.parentElement;
            gitem.style.gridRowEnd =
              "span " + Math.ceil((getHeight(gitem) + gap) / (altura + gap));
            item.classList.remove("byebye");
          });
        }
      });
      window.addEventListener("resize", resizeAll);
      gallery.querySelectorAll(".gallery-item").forEach(function (item) {
        item.addEventListener("click", function () {
          item.classList.toggle("full");
        });
      });

      let slideIndex = 1;
      showSlides(slideIndex);

      function plusSlides(n) {
        showSlides((slideIndex += n));
      }

      function currentSlide(n) {
        showSlides((slideIndex = n));
      }

      function showSlides(n) {
        let i;
        let slides = document.getElementsByClassName("mySlides");
        let dots = document.getElementsByClassName("dot");
        if (n > slides.length) {
          slideIndex = 1;
        }
        if (n < 1) {
          slideIndex = slides.length;
        }
        for (i = 0; i < slides.length; i++) {
          slides[i].style.display = "none";
        }
        for (i = 0; i < dots.length; i++) {
          dots[i].className = dots[i].className.replace(" active", "");
        }
        slides[slideIndex - 1].style.display = "block";
        dots[slideIndex - 1].className += " active";
      }
    </script>
  </body>
</html>
